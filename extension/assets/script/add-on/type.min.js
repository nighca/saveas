/*! type v1.2.0 [nighca@live.cn] [11-08-2013] */
!function(a,b){var c=b(a);"object"==typeof module&&"object"==typeof module.exports?module.exports=c:"function"==typeof define&&define.amd&&define("Type",[],function(){return c})}(this,function(a){"use strict";var b=function(){this.author={name:"nighca",email:"nighca@live.cn"}};return b.toString=function(){return JSON?JSON.stringify(new this):">_<"},b.format=function(a){return Object.prototype.toString.call(a)},b.isNum=function(a){return"number"==typeof a||"[object Number]"===b.format(a)},b.isStr=function(a){return"string"==typeof a||"[object String]"===b.format(a)},b.isFunc=function(a){return"function"==typeof a||"[object Function]"===b.format(a)},b.isBool=function(a){return"boolean"==typeof a||"[object Boolean]"===b.format(a)},b.isArr=function(a){return"[object Array]"===b.format(a)},b.isReg=function(a){return"[object RegExp]"===b.format(a)},b.isObj=function(a){return"[object Object]"===b.format(a)},b.isUndef=function(a){return"undefined"==typeof a},b.isNul=function(a){return"[object Null]"===b.format(a)},b.isVoid=function(){return!0},b.__defined__={},b.define=function(a,b,c){var d=this;if(d.isStr(a)&&d.isFunc(b)){if(!c&&this.__defined__[a])throw new Error("Type "+a+" already exists");var e=function(c){var d=Array.prototype.slice.call(arguments,1),e=function(){for(var e=0,f=d.length;f>e;e++)if(d[e]&&!d[e].check(arguments[e]))throw new TypeError("Unexpected argument, expecting "+d[e].typeName+" (arg["+e+"])");var g=c.apply(this,arguments);if(!b(g))throw new TypeError("Unexpected result, expecting "+a);return g};return e.toString=function(){return c.toString()},e};return e.check=b,e.typeName=a,e.constructor=d,e.__proto__=d.prototype,this.__defined__[a]=e}throw new TypeError("Param error")},b.isType=function(a){return a&&a.constructor===b},b.mix=function(a){var c;if(b.isStr(a)?c=Array.prototype.slice.call(arguments,1):(c=Array.prototype.slice.call(arguments,0),a=null),c.length<2)throw new Error("Params error");var d,e;for(d=0,e=c.length;e>d;d++)if(!b.isType(c[d]))throw new TypeError("Param not a type");if(!a){for(a="MIX_OF_"+c[0].typeName,d=1,e=c.length;e>d;d++)a+="_"+c[d].typeName;a+="@"+Date.now()}var f=function(a){for(var b=0,d=c.length;d>b;b++)if(!c[b].check(a))return!1;return!0};return b.define(a,f)},b.any=function(a){var c;if(b.isStr(a)?c=Array.prototype.slice.call(arguments,1):(c=Array.prototype.slice.call(arguments,0),a=null),c.length<2)throw new Error("Params error");var d,e;for(d=0,e=c.length;e>d;d++)if(!b.isType(c[d]))throw new TypeError("Param not a type");if(!a){for(a="ANY_OF_"+c[0].typeName,d=1,e=c.length;e>d;d++)a+="_"+c[d].typeName;a+="@"+Date.now()}var f=function(a){for(var b=0,d=c.length;d>b;b++)if(c[b].check(a))return!0;return!1};return b.define(a,f)},b.isDefined=function(a){return!!this.__defined__[a]},b.destroy=function(a){if(!b.isStr(a))throw new TypeError("Param error");var c=this.__defined__[a];c&&(c=null,delete this.__defined__[a])},b.prototype.suicide=function(){this.constructor.destroy(this.typeName)},a.Num=b.Num=b.define("NUMBER",b.isNum),a.Str=b.Str=b.define("STRING",b.isStr),a.Func=b.Func=b.define("FUNCTION",b.isFunc),a.Bool=b.Bool=b.define("BOOLEAN",b.isBool),a.Arr=b.Arr=b.define("ARRAY",b.isArr),a.Reg=b.Reg=b.define("REGEXP",b.isReg),a.Obj=b.Obj=b.define("OBJECT",b.isObj),a.Undef=b.Undef=b.define("UNDEFINED",b.isUndef),a.Nul=b.Nul=b.define("NULL",b.isNul),a.Void=b.Void=b.define("VOID",b.isVoid),a.Type=b});